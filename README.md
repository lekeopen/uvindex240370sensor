# Gravity: 240370 ç´«å¤–çº¿æŒ‡æ•°ä¼ æ„Ÿå™¨ (UV Index Sensor)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![ç‰ˆæœ¬](https://img.shields.io/badge/ç‰ˆæœ¬-0.0.9-blue.svg)](https://github.com/rockts/lekeopen-uvindex240370sensor)

<div align="center">
  <img src="./arduinoC/_images/featured.png" width="400" alt="UV Index Sensor"/>
</div>

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€æ¬¾é’ˆå¯¹è¡Œç©ºæ¿ä¼˜åŒ–çš„ DFRobot Gravity ç³»åˆ— 240370 ç´«å¤–çº¿æŒ‡æ•°ä¼ æ„Ÿå™¨æ‰©å±•ï¼Œèƒ½æ£€æµ‹ 240-370nm æ³¢é•¿èŒƒå›´å†…çš„ç´«å¤–çº¿å¼ºåº¦ï¼Œæ¶µç›– UVAã€UVBã€UVC ä¸‰ç§æ³¢é•¿èŒƒå›´ã€‚é€šè¿‡åº•å±‚å¤„ç†ï¼Œèƒ½ç›´æ¥è¾“å‡º 0-11 çš„ UV æŒ‡æ•°ç­‰çº§å’Œ 1-5 çš„å±å®³é£é™©è­¦å‘Šã€‚æœ¬æ‰©å±•åŒ…è§£å†³äº†è¡Œç©ºæ¿ä¸Šçš„ I2C é€šä¿¡é—®é¢˜ï¼Œä¼˜åŒ–äº†è®¾å¤‡è¯†åˆ«å’Œæ•°æ®å¤„ç†é€»è¾‘ã€‚

## âœ¨ ä¸»è¦ç‰¹ç‚¹

- ğŸŒˆ æ³¢é•¿èŒƒå›´ 240-370nmï¼Œè¦†ç›– UVA/UVB/UVC
- ğŸ”¢ ç›´æ¥è¾“å‡ºç´«å¤–çº¿æŒ‡æ•°ä¸é£é™©ç­‰çº§ï¼Œæ— éœ€è½¬æ¢
- ğŸ› ï¸ ä¿®å¤äº†è¡Œç©ºæ¿ PinPong åº“ I2C é€šä¿¡é—®é¢˜
- ğŸ“Š æ”¹è¿›çš„ UV æŒ‡æ•°è®¡ç®—å’Œé”™è¯¯å¤„ç†
- ğŸŒ æ”¯æŒ Arduino å’Œè¡Œç©ºæ¿åŒå¹³å°
- ï¿½ï¿½ æä¾› Mind+ å¯è§†åŒ–ç¼–ç¨‹æ”¯æŒ

## ğŸ“¥ ä¸‹è½½ä¸å®‰è£…

åœ¨ [Releases](https://github.com/rockts/lekeopen-uvindex240370sensor/releases) é¡µé¢ä¸‹è½½æœ€æ–°çš„æ‰©å±•åŒ…ã€‚

- å½“å‰ç‰ˆæœ¬ï¼š[lekeopen-uvindex240370sensor-V0.0.9.mpext](https://github.com/rockts/lekeopen-uvindex240370sensor/raw/main/lekeopen-uvindex240370sensor-V0.0.9.mpext)

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### Mind+ ä¸­ä½¿ç”¨

1. ä¸‹è½½æœ€æ–°çš„ `.mpext` æ‰©å±•åŒ…æ–‡ä»¶
2. æ‰“å¼€ Mind+ï¼Œç‚¹å‡»"æ‰©å±•"â†’"ç®¡ç†æ‰©å±•"â†’"æœ¬åœ°å¯¼å…¥"
3. é€‰æ‹©ä¸‹è½½çš„æ‰©å±•åŒ…è¿›è¡Œå®‰è£…
4. åœ¨ç§¯æœ¨åŒºæ‰¾åˆ°"Gravity: 240370 ç´«å¤–çº¿æŒ‡æ•°ä¼ æ„Ÿå™¨"ç§¯æœ¨å—
5. ä½¿ç”¨ç§¯æœ¨å—è¯»å– UV æŒ‡æ•°ã€åŸå§‹æ•°æ®æˆ–é£é™©ç­‰çº§

### Python ä»£ç ä¸­ä½¿ç”¨

```python
from unihiker_uv_patch_v3 import PatchUVSensor

# åˆ›å»ºä¼ æ„Ÿå™¨å¯¹è±¡
sensor = PatchUVSensor()
sensor.begin()

# è¯»å–æ•°æ®
raw_value = sensor.read_UV_original_data()
uv_index = sensor.read_UV_index_data()
risk_level = sensor.read_risk_level_data()

print(f"åŸå§‹å€¼: {raw_value}")
print(f"UVæŒ‡æ•°: {uv_index}")
print(f"é£é™©ç­‰çº§: {risk_level}")
```

### Arduino ä¸­ä½¿ç”¨

```cpp
#include <DFRobot_UVIndex240370Sensor.h>

DFRobot_UVIndex240370Sensor UVSensor;

void setup() {
  Serial.begin(115200);

  // åˆå§‹åŒ–ä¼ æ„Ÿå™¨
  UVSensor.begin();
}

void loop() {
  // è¯»å–åŸå§‹å€¼
  uint16_t raw = UVSensor.getRaw();

  // è¯»å– UV æŒ‡æ•°
  uint8_t index = UVSensor.getUvIndex();

  // è¯»å–é£é™©çº§åˆ«
  uint8_t riskLevel = UVSensor.getRiskLevel();

  Serial.print("åŸå§‹å€¼: ");
  Serial.println(raw);

  Serial.print("UVæŒ‡æ•°: ");
  Serial.println(index);

  Serial.print("é£é™©ç­‰çº§: ");
  Serial.println(riskLevel);

  delay(1000);
}
```

## ğŸŒ¡ï¸ ç´«å¤–çº¿é£é™©ç­‰çº§æŒ‡å—

| ç´«å¤–çº¿æŒ‡æ•° | é£é™©ç­‰çº§ | é˜²æŠ¤å»ºè®®                                    |
| ---------- | -------- | ------------------------------------------- |
| 0-2        | ä½é£é™©   | å¯ä»¥å®‰å…¨åœ¨æˆ·å¤–æ´»åŠ¨ï¼Œæ— éœ€ç‰¹æ®Šé˜²æŠ¤            |
| 3-5        | ä¸­ç­‰é£é™© | åœ¨æˆ·å¤–æ´»åŠ¨æ—¶å»ºè®®ä½¿ç”¨é˜²æ™’éœœï¼Œä½©æˆ´å¤ªé˜³é•œ      |
| 6-7        | é«˜é£é™©   | é¿å…åœ¨ä¸­åˆæ—¶åˆ†é•¿æ—¶é—´æš´éœ²ï¼Œä½¿ç”¨ SPF15+é˜²æ™’éœœ |
| 8-10       | å¾ˆé«˜é£é™© | å°½é‡å‡å°‘æˆ·å¤–æ´»åŠ¨ï¼Œå¿…è¦æ—¶é‡‡å–å…¨é¢é˜²æŠ¤æªæ–½    |
| 11+        | æé«˜é£é™© | å°½é‡é¿å…åœ¨é˜³å…‰ä¸‹æ´»åŠ¨ï¼Œå¿…é¡»é‡‡å–å…¨é¢é˜²æŠ¤      |

## ğŸ“ ä»“åº“ç»“æ„

```
lekeopen-uvindex240370sensor/
â”œâ”€â”€ arduinoC/                  - Arduino ç›¸å…³æ–‡ä»¶
â”‚   â”œâ”€â”€ libraries/             - Arduino åº“æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ DFRobot_UVIndex240370Sensor/ - UVä¼ æ„Ÿå™¨åº“
â”‚   â”‚   â””â”€â”€ libraries.zip      - æ‰“åŒ…çš„åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ main.ts                - Mind+ Arduinoç§¯æœ¨å®šä¹‰
â”‚   â”œâ”€â”€ _images/               - æ‰©å±•å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ _locales/              - å¤šè¯­è¨€ç¿»è¯‘æ–‡ä»¶
â”‚
â”œâ”€â”€ python/                    - Python ç›¸å…³æ–‡ä»¶
â”‚   â”œâ”€â”€ libraries/             - Python åº“æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ unihiker_uv_patch_v3.py - è¡Œç©ºæ¿ UV ä¼ æ„Ÿå™¨åº“
â”‚   â”‚   â””â”€â”€ libraries.zip      - æ‰“åŒ…çš„åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ main.ts                - Mind+ Pythonç§¯æœ¨å®šä¹‰
â”‚   â”œâ”€â”€ _images/               - æ‰©å±•å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ _locales/              - å¤šè¯­è¨€ç¿»è¯‘æ–‡ä»¶
â”‚
â”œâ”€â”€ docs/                      - é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ å„ç±»æŒ‡å—ä¸è¯´æ˜æ–‡æ¡£
â”‚
â”œâ”€â”€ examples/                  - ç¤ºä¾‹ç¨‹åº
â”‚   â”œâ”€â”€ basic_uv_example.py    - åŸºç¡€ç¤ºä¾‹
â”‚   â””â”€â”€ gui_uv_monitor.py      - å›¾å½¢ç•Œé¢ç¤ºä¾‹
â”‚
â”œâ”€â”€ scripts/                   - å®ç”¨è„šæœ¬
â”‚   â”œâ”€â”€ build_extension.sh     - æ‰©å±•åŒ…æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ manage_remote_mpext.sh - è¿œç¨‹ä»“åº“ç®¡ç†è„šæœ¬
â”‚
â”œâ”€â”€ lekeopen-uvindex240370sensor-V0.0.3.mpext - æœ€æ–°æ‰©å±•åŒ…
â”œâ”€â”€ config.json                - æ‰©å±•é…ç½®æ–‡ä»¶
â”œâ”€â”€ LICENSE                    - MITè®¸å¯è¯
â””â”€â”€ README.md                  - é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ ç¡¬ä»¶è¿æ¥

### Arduino è¿æ¥

| ä¼ æ„Ÿå™¨å¼•è„š | Arduino å¼•è„š         |
| ---------- | -------------------- |
| VCC        | 5V/3.3V              |
| GND        | GND                  |
| SDA        | A4 (UNO) / 20 (MEGA) |
| SCL        | A5 (UNO) / 21 (MEGA) |

### è¡Œç©ºæ¿è¿æ¥

| ä¼ æ„Ÿå™¨å¼•è„š | è¡Œç©ºæ¿å¼•è„š |
| ---------- | ---------- |
| VCC        | 3.3V       |
| GND        | GND        |
| SDA        | SDA        |
| SCL        | SCL        |

## ğŸ“ ä¼ æ„Ÿå™¨è§„æ ¼

- **ä¾›ç”µç”µå‹**: 3.3V - 5V
- **é€šä¿¡æ¥å£**: I2C
- **æ³¢é•¿èŒƒå›´**: 240-370nm
- **æµ‹é‡èŒƒå›´**: ç´«å¤–çº¿æŒ‡æ•° 0-11+
- **ç²¾åº¦**: Â±1 ç´«å¤–çº¿æŒ‡æ•°
- **å“åº”æ—¶é—´**: <1s
- **å·¥ä½œæ¸©åº¦**: -20â„ƒ è‡³ 85â„ƒ
- **å°ºå¯¸**: 29.0 Ã— 22.0 mm

## ğŸ“ ä»“åº“ç»“æ„

```
/
â”œâ”€â”€ config.json               # æ‰©å±•é…ç½®æ–‡ä»¶
â”œâ”€â”€ LICENSE                   # MITè®¸å¯è¯
â”œâ”€â”€ README.md                 # æœ¬æ–‡æ¡£
â”œâ”€â”€ lekeopen-uvindex240370sensor-V0.0.9.mpext  # æœ€æ–°ç‰ˆæœ¬çš„æ‰©å±•åŒ…
â”œâ”€â”€ arduinoC/                 # Arduinoå¹³å°ç›¸å…³æ–‡ä»¶
â”‚   â”œâ”€â”€ _images/              # å›¾åƒèµ„æº
â”‚   â”œâ”€â”€ _locales/             # å¤šè¯­è¨€æ”¯æŒ
â”‚   â”œâ”€â”€ libraries/            # Arduinoåº“æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ DFRobot_UVIndex240370Sensor/  # ä¼ æ„Ÿå™¨Arduinoåº“
â”‚   â””â”€â”€ main.ts               # Arduinoç§¯æœ¨å®šä¹‰æ–‡ä»¶
â””â”€â”€ python/                   # Pythonå¹³å°ç›¸å…³æ–‡ä»¶
    â”œâ”€â”€ _images/              # å›¾åƒèµ„æº
    â”œâ”€â”€ _locales/             # å¤šè¯­è¨€æ”¯æŒ
    â”œâ”€â”€ libraries/            # Pythonåº“æ–‡ä»¶
    â”‚   â””â”€â”€ unihiker_uv_patch_v3.py  # è¡Œç©ºæ¿ä¼˜åŒ–çš„ä¼ æ„Ÿå™¨åº“
    â””â”€â”€ main.ts               # Pythonç§¯æœ¨å®šä¹‰æ–‡ä»¶
```

## ğŸ”„ ç‰ˆæœ¬å†å²

- **0.0.9** (2025.05.13)
  - ç²¾ç®€ä»£ç ç»“æ„ï¼Œç§»é™¤è°ƒè¯•ä¿¡æ¯
  - ä¼˜åŒ–ä¼ æ„Ÿå™¨åˆå§‹åŒ–é€»è¾‘
  - è‡´è°¢åŸé¡¹ç›®ä½œè€…
- **0.0.8** (2025.05.13)
  - ä¿®å¤åŸå§‹å€¼ä¸º 1024 æ—¶å¼‚å¸¸ UV æŒ‡æ•°é—®é¢˜
  - ä¼˜åŒ–æ•°æ®å¤„ç†é€»è¾‘ï¼Œå¢å¼ºæ•°æ®ä¸€è‡´æ€§
  - è§£å†³åŸå§‹å€¼ä¸º 0 ä½† UV æŒ‡æ•°ä¸º 1 çš„å¼‚å¸¸æƒ…å†µ
- **0.0.7** (2025.05.13)
  - ä¿®å¤ Mind+ å¯¼å…¥é”™è¯¯é—®é¢˜
  - ç¡®ä¿æ­£ç¡®æ‰“åŒ… libraries.zip æ–‡ä»¶
  - ä¼˜åŒ–æ‰“åŒ…è„šæœ¬
- **0.0.6** (2025.05.13)
  - ä¼˜åŒ–æ•°æ®æ˜¾ç¤ºæ ¼å¼ï¼Œè§£å†³ç»ˆç«¯æ•°æ®é‡å é—®é¢˜
  - ä½¿ç”¨ ASCII æ¡†æ¶å¼æ ¼å¼åŒ–è¾“å‡ºï¼Œæé«˜å¯è¯»æ€§
  - æ·»åŠ æ¸…å±æ§åˆ¶ï¼Œé¿å…æ•°æ®å †ç§¯
- **0.0.5** (2025.05.13)
  - ä¿®å¤ UV æŒ‡æ•°ä¸º 1 æ—¶é£é™©ç­‰çº§è®¡ç®—é”™è¯¯é—®é¢˜
  - æ”¹è¿›æ•°æ®è¾“å‡ºæ–¹å¼ï¼Œå¢åŠ æ–‡æœ¬æ ‡ç­¾
  - åˆ›å»ºè‡ªåŠ¨åŒ–è„šæœ¬ç®¡ç†è¿œç¨‹ä»“åº“
- **0.0.4** (2025.05.13)
  - ä¿®å¤å­—èŠ‚åºé—®é¢˜ï¼Œä¼˜åŒ–æ•°æ®å¤„ç†é€»è¾‘
  - å¢å¼ºé›¶å€¼å¤„ç†ä¸æ•°æ®å¹³æ»‘æ»¤æ³¢
  - è§£å†³æ•°æ®è·³å˜å’Œè¯»å–é”™è¯¯é—®é¢˜
- **0.0.3** (2025.05.13)
  - ä¿®å¤ Arduino Uno å…¼å®¹æ€§é—®é¢˜
  - æ·»åŠ æ‰©å±•åŒ…ç®¡ç†åŠŸèƒ½
  - ä¼˜åŒ–åº“æ–‡ä»¶ç»“æ„
- **0.0.2** (2025.05.13)
  - æ”¹è¿›é”™è¯¯å¤„ç†æœºåˆ¶
  - å¢å¼ºè®¾å¤‡è¯†åˆ«é€»è¾‘
- **0.0.1** (2025.05.12)
  - é¦–æ¬¡å‘å¸ƒ
  - æ”¯æŒè¡Œç©ºæ¿å’Œ Arduino å¹³å°
  - åŸºç¡€ UV æŒ‡æ•°æµ‹é‡åŠŸèƒ½

## ğŸ‘¨â€ğŸ’» è´¡çŒ®

æ¬¢è¿æäº¤é—®é¢˜å’ŒåŠŸèƒ½è¯·æ±‚ã€‚å¦‚æœæ‚¨æƒ³è´¡çŒ®ä»£ç ï¼Œè¯· fork å¹¶æäº¤ pull requestã€‚

### è‡´è°¢

æœ¬é¡¹ç›®åŸºäº [dfrobotcd/ext-uvindex240370sensor](https://gitee.com/dfrobotcd/ext-uvindex240370sensor) é¡¹ç›®å¼€å‘ï¼Œåœ¨åŸé¡¹ç›®çš„åŸºç¡€ä¸Šè¿›è¡Œäº†è¡Œç©ºæ¿é€‚é…ä¸åŠŸèƒ½ä¼˜åŒ–ã€‚ç‰¹æ­¤æ„Ÿè°¢åŸé¡¹ç›®ä½œè€…çš„è´¡çŒ®ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è§ [LICENSE](./LICENSE) æ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- **ä½œè€…**: rockts
- **é‚®ç®±**: gaopeng@lekee.cc
- **ç½‘ç«™**: [ä¹å¯å¼€æº](https://www.lekee.cc)

---

<div align="center">
  <p>ç”±ä¹å¯å¼€æºå¼€å‘ &copy; 2025</p>
</div>
