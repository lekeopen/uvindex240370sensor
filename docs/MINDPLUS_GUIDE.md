# Mind+紫外线传感器使用指南

## 基本使用

### 步骤 1: 添加扩展

1. 打开 Mind+软件
2. 点击"扩展"按钮
3. 选择"导入本地扩展"
4. 选择下载的紫外线传感器扩展文件(.mpext)

### 步骤 2: 创建项目

1. 创建新项目
2. 选择"行空板"作为硬件平台
3. 在左侧找到"紫外线传感器"类别

### 步骤 3: 使用积木块

本扩展提供两种积木块:

- **初始化紫外线传感器**: 必须放在程序开始处，用于初始化传感器
- **读取紫外线[类型]**: 用于读取数据，可选参数:
  - 原始数据: 返回 0-20000 范围的原始数值
  - UV 指数: 返回 0-11 的紫外线强度指数
  - 风险等级: 返回 0-4 的风险等级(0 低风险,4 极高风险)

## 示例程序

### 基础读取示例

```
当开始执行时
    初始化紫外线传感器

    重复执行
        变量uv设为读取紫外线[UV指数]
        显示变量uv
        等待1秒
```

### 完整紫外线监测仪

```
当开始执行时
    初始化紫外线传感器

    重复执行
        变量raw设为读取紫外线[原始数据]
        变量index设为读取紫外线[UV指数]
        变量risk设为读取紫外线[风险等级]

        清屏
        显示文本 "紫外线监测仪" 在第1行
        显示文本 "原始值:" + 变量raw 在第2行
        显示文本 "UV指数:" + 变量index 在第3行

        如果变量risk = 0
            显示文本 "低风险,安全" 在第4行
        否则如果变量risk = 1
            显示文本 "中等风险,涂防晒" 在第4行
        否则如果变量risk = 2
            显示文本 "高风险,戴帽子" 在第4行
        否则如果变量risk = 3
            显示文本 "很高风险,减少外出" 在第4行
        否则
            显示文本 "极高风险,避免外出" 在第4行
        结束

        等待2秒
```

## 常见问题

### 问题 1: 无法读取数据或读取值为 0

可能原因:

- 传感器连接不正确
- I2C 总线未初始化
- 库文件版本不兼容

解决方法:

1. 检查传感器连接是否正确
2. 确保程序中包含"初始化紫外线传感器"积木块
3. 确认使用的是最新版本的扩展包(V1.0.0)

### 问题 2: 数据不稳定或波动大

可能原因:

- 传感器不稳定
- 光照条件变化导致读数波动

解决方法:

1. 使用数据平滑技术(如移动平均)
2. 保持光照条件稳定
3. 降低采样频率(增加延时)
