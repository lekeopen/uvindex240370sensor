# 打包与发布指南

本文档介绍如何打包和发布紫外线传感器 Mind+扩展库。

## 打包流程

1. **确保代码最新**:

   - 确认所有代码已更新到最新版本
   - 测试核心功能正常工作

2. **更新版本号**:

   - 修改`config.json`中的版本号
   - 更新 README.md 中的版本信息

3. **运行打包脚本**:

   ```bash
   ./package_extension.sh
   ```

   这将创建一个以版本号命名的.mpext 文件，如`dfrobot-uvindex240370sensor-unihiker-V1.0.0.mpext`

4. **测试扩展包**:
   - 在 Mind+中导入生成的.mpext 文件
   - 创建测试项目，验证积木块功能正常
   - 测试在行空板上的实际表现

## 部署到行空板

如需直接在行空板上测试库文件，使用部署脚本:

```bash
./deploy_to_unihiker.sh
```

按照提示输入行空板 IP 地址，选择要部署的文件。

## 发布注意事项

1. **文档更新**:

   - 确保所有文档与最新版本功能一致
   - 更新使用指南中的版本号和功能说明

2. **兼容性检查**:

   - 确认支持所有声明的硬件平台
   - 测试不同版本的 Mind+软件

3. **备份**:

   - 发布前备份整个项目
   - 使用 git 或其他版本控制系统记录修改

4. **版本命名**:
   - 主版本号(x.0.0): 架构或重大变更
   - 次版本号(0.x.0): 功能添加
   - 修订版本号(0.0.x): 错误修复

## 常见问题

1. **打包失败**:

   - 检查目录结构是否符合 Mind+要求
   - 确保 config.json 格式正确

2. **扩展无法导入**:

   - 验证扩展包文件完整性
   - 检查 Mind+兼容版本

3. **积木块无法显示**:

   - 检查本地化文件(locale)是否正确
   - 确认 main.ts 中的配置正确

4. **行空板上无法运行**:
   - 检查库文件路径和导入
   - 确认 I2C 总线配置正确
